title: "Clojure 生产环境中怎么使用environ"
tags:  ["clojure"]
---

[environ](https://github.com/weavejester/environ)可以很方便帮我们管理项目中的各种配置，但是最近在使用的时候遇到了一个问题，就是我在dev, test profile下配置的database-uri到打出uberjar之后就访问不到了。最后看了下源码，在生产环境下，需要通过进程环境变量或Java系统属性来完成这一目的：

进程环境变量：

```bash
DATABASE_URL=jdbc:postgres://localhost/prod java -jar standalone.jar
```
Java系统属性：

```bash
java -Ddatabase.url=jdbc:postgres://localhost/prod -jar standalone.jar
```